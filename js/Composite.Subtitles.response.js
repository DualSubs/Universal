class e{static name="Lodash";static version="1.2.2";static about(){return console.log(`\nüüß ${this.name} v${this.version}\n`)}static get(e={},a="",t=void 0){Array.isArray(a)||(a=this.toPath(a));const s=a.reduce(((e,a)=>Object(e)[a]),e);return void 0===s?t:s}static set(e={},a="",t){return Array.isArray(a)||(a=this.toPath(a)),a.slice(0,-1).reduce(((e,t,s)=>Object(e[t])===e[t]?e[t]:e[t]=/^\d+$/.test(a[s+1])?[]:{}),e)[a[a.length-1]]=t,e}static unset(e={},a=""){return Array.isArray(a)||(a=this.toPath(a)),a.reduce(((e,t,s)=>s===a.length-1?(delete e[t],!0):Object(e)[t]),e)}static toPath(e){return e.replace(/\[(\d+)\]/g,".$1").split(".").filter(Boolean)}static escape(e){const a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e.replace(/[&<>"']/g,(e=>a[e]))}static unescape(e){const a={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,(e=>a[e]))}}class a{static name="$Storage";static version="1.0.9";static about(){return console.log(`\nüüß ${this.name} v${this.version}\n`)}static data=null;static dataFile="box.dat";static#e=/^@(?<key>[^.]+)(?:\.(?<path>.*))?$/;static#a(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":"undefined"!=typeof Egern?"Egern":void 0}static getItem(a=new String,t=null){let s=t;if(!0===a.startsWith("@")){const{key:t,path:n}=a.match(this.#e)?.groups;a=t;let l=this.getItem(a,{});"object"!=typeof l&&(l={}),s=e.get(l,n);try{s=JSON.parse(s)}catch(e){}}else{switch(this.#a()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":s=$persistentStore.read(a);break;case"Quantumult X":s=$prefs.valueForKey(a);break;case"Node.js":this.data=this.#t(this.dataFile),s=this.data?.[a];break;default:s=this.data?.[a]||null}try{s=JSON.parse(s)}catch(e){}}return s??t}static setItem(a=new String,t=new String){let s=!1;if("object"==typeof t)t=JSON.stringify(t);else t=String(t);if(!0===a.startsWith("@")){const{key:n,path:l}=a.match(this.#e)?.groups;a=n;let o=this.getItem(a,{});"object"!=typeof o&&(o={}),e.set(o,l,t),s=this.setItem(a,o)}else switch(this.#a()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":s=$persistentStore.write(t,a);break;case"Quantumult X":s=$prefs.setValueForKey(t,a);break;case"Node.js":this.data=this.#t(this.dataFile),this.data[a]=t,this.#s(this.dataFile),s=!0;break;default:s=this.data?.[a]||null}return s}static removeItem(a){let t=!1;if(!0===a.startsWith("@")){const{key:s,path:n}=a.match(this.#e)?.groups;a=s;let l=this.getItem(a);"object"!=typeof l&&(l={}),keyValue=e.unset(l,n),t=this.setItem(a,l)}else switch(this.#a()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:t=!1;break;case"Quantumult X":t=$prefs.removeValueForKey(a)}return t}static clear(){let e=!1;switch(this.#a()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Node.js":default:e=!1;break;case"Quantumult X":e=$prefs.removeAllValues()}return e}static#t(e){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const a=this.path.resolve(e),t=this.path.resolve(process.cwd(),e),s=this.fs.existsSync(a),n=!s&&this.fs.existsSync(t);if(!s&&!n)return{};{const e=s?a:t;try{return JSON.parse(this.fs.readFileSync(e))}catch(e){return{}}}}}static#s(e=this.dataFile){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const a=this.path.resolve(e),t=this.path.resolve(process.cwd(),e),s=this.fs.existsSync(a),n=!s&&this.fs.existsSync(t),l=JSON.stringify(this.data);s?this.fs.writeFileSync(a,l):n?this.fs.writeFileSync(t,l):this.fs.writeFileSync(a,l)}}}class t{static name="ENV";static version="1.8.3";static about(){return console.log(`\nüüß ${this.name} v${this.version}\n`)}constructor(e,a){console.log(`\nüüß ${t.name} v${t.version}\n`),this.name=e,this.logs=[],this.isMute=!1,this.isMuteLog=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,a),this.log(`\nüö© ÂºÄÂßã!\n${e}\n`)}environment(){switch(this.platform()){case"Surge":return $environment.app="Surge",$environment;case"Stash":return $environment.app="Stash",$environment;case"Egern":return $environment.app="Egern",$environment;case"Loon":let e=$loon.split(" ");return{device:e[0],ios:e[1],"loon-version":e[2],app:"Loon"};case"Quantumult X":return{app:"Quantumult X"};case"Node.js":return process.env.app="Node.js",process.env;default:return{}}}platform(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":"undefined"!=typeof Egern?"Egern":void 0}isNode(){return"Node.js"===this.platform()}isQuanX(){return"Quantumult X"===this.platform()}isSurge(){return"Surge"===this.platform()}isLoon(){return"Loon"===this.platform()}isShadowrocket(){return"Shadowrocket"===this.platform()}isStash(){return"Stash"===this.platform()}isEgern(){return"Egern"===this.platform()}async getScript(e){return await this.fetch(e).then((e=>e.body))}async runScript(e,t){let s=a.getItem("@chavy_boxjs_userCfgs.httpapi");s=s?.replace?.(/\n/g,"")?.trim();let n=a.getItem("@chavy_boxjs_userCfgs.httpapi_timeout");n=1*n??20,n=t?.timeout??n;const[l,o]=s.split("@"),g={url:`http://${o}/v1/scripting/evaluate`,body:{script_text:e,mock_type:"cron",timeout:n},headers:{"X-Key":l,Accept:"*/*"},timeout:n};await this.fetch(g).then((e=>e.body),(e=>this.logErr(e)))}initGotEnv(e){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,e&&(e.headers=e.headers?e.headers:{},void 0===e.headers.Cookie&&void 0===e.cookieJar&&(e.cookieJar=this.ckjar))}async fetch(a={}||"",t={}){switch(a.constructor){case Object:a={...t,...a};break;case String:a={...t,url:a}}a.method||(a.method="GET",(a.body??a.bodyBytes)&&(a.method="POST")),delete a.headers?.Host,delete a.headers?.[":authority"],delete a.headers?.["Content-Length"],delete a.headers?.["content-length"];const s=a.method.toLocaleLowerCase();switch(this.platform()){case"Loon":case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:return a.timeout&&(a.timeout=parseInt(a.timeout,10),this.isSurge()||(a.timeout=1e3*a.timeout)),a.policy&&(this.isLoon()&&(a.node=a.policy),this.isStash()&&e.set(a,"headers.X-Stash-Selected-Proxy",encodeURI(a.policy)),this.isShadowrocket()&&e.set(a,"headers.X-Surge-Proxy",a.policy)),"boolean"==typeof a.redirection&&(a["auto-redirect"]=a.redirection),a.bodyBytes&&!a.body&&(a.body=a.bodyBytes,delete a.bodyBytes),await new Promise(((e,t)=>{$httpClient[s](a,((s,n,l)=>{s?t(s):(n.ok=/^2\d\d$/.test(n.status),n.statusCode=n.status,l&&(n.body=l,1==a["binary-mode"]&&(n.bodyBytes=l)),e(n))}))}));case"Quantumult X":return a.policy&&e.set(a,"opts.policy",a.policy),"boolean"==typeof a["auto-redirect"]&&e.set(a,"opts.redirection",a["auto-redirect"]),a.body instanceof ArrayBuffer?(a.bodyBytes=a.body,delete a.body):ArrayBuffer.isView(a.body)?(a.bodyBytes=a.body.buffer.slice(a.body.byteOffset,a.body.byteLength+a.body.byteOffset),delete object.body):a.body&&delete a.bodyBytes,await $task.fetch(a).then((e=>(e.ok=/^2\d\d$/.test(e.statusCode),e.status=e.statusCode,e)),(e=>Promise.reject(e.error)));case"Node.js":let t=require("iconv-lite");this.initGotEnv(a);const{url:n,...l}=a;return await this.got[s](n,l).on("redirect",((e,a)=>{try{if(e.headers["set-cookie"]){const t=e.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();t&&this.ckjar.setCookieSync(t,null),a.cookieJar=this.ckjar}}catch(e){this.logErr(e)}})).then((e=>(e.statusCode=e.status,e.body=t.decode(e.rawBody,this.encoding),e.bodyBytes=e.rawBody,e)),(e=>Promise.reject(e.message)))}}time(e,a=null){const t=a?new Date(a):new Date;let s={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let a in s)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?s[a]:("00"+s[a]).substr((""+s[a]).length)));return e}msg(e=name,a="",t="",s){const n=e=>{switch(typeof e){case void 0:return e;case"string":switch(this.platform()){case"Surge":case"Stash":case"Egern":default:return{url:e};case"Loon":case"Shadowrocket":return e;case"Quantumult X":return{"open-url":e};case"Node.js":return}case"object":switch(this.platform()){case"Surge":case"Stash":case"Egern":case"Shadowrocket":default:return{url:e.url||e.openUrl||e["open-url"]};case"Loon":return{openUrl:e.openUrl||e.url||e["open-url"],mediaUrl:e.mediaUrl||e["media-url"]};case"Quantumult X":return{"open-url":e["open-url"]||e.url||e.openUrl,"media-url":e["media-url"]||e.mediaUrl,"update-pasteboard":e["update-pasteboard"]||e.updatePasteboard};case"Node.js":return}default:return}};if(!this.isMute)switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":default:$notification.post(e,a,t,n(s));break;case"Quantumult X":$notify(e,a,t,n(s));case"Node.js":}if(!this.isMuteLog){let s=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];s.push(e),a&&s.push(a),t&&s.push(t),console.log(s.join("\n")),this.logs=this.logs.concat(s)}}log(...e){e.length>0&&(this.logs=[...this.logs,...e]),console.log(e.join(this.logSeparator))}logErr(e){switch(this.platform()){case"Surge":case"Loon":case"Stash":case"Egern":case"Shadowrocket":case"Quantumult X":default:this.log("",`‚ùóÔ∏è ${this.name}, ÈîôËØØ!`,e);break;case"Node.js":this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,e.stack)}}wait(e){return new Promise((a=>setTimeout(a,e)))}done(a={}){const t=((new Date).getTime()-this.startTime)/1e3;switch(this.log("",`üö© ${this.name}, ÁªìÊùü! üïõ ${t} Áßí`,""),this.platform()){case"Surge":a.policy&&e.set(a,"headers.X-Surge-Policy",a.policy),$done(a);break;case"Loon":a.policy&&(a.node=a.policy),$done(a);break;case"Stash":a.policy&&e.set(a,"headers.X-Stash-Selected-Proxy",encodeURI(a.policy)),$done(a);break;case"Egern":case"Shadowrocket":default:$done(a);break;case"Quantumult X":a.policy&&e.set(a,"opts.policy",a.policy),delete a["auto-redirect"],delete a["auto-cookie"],delete a["binary-mode"],delete a.charset,delete a.host,delete a.insecure,delete a.method,delete a.opt,delete a.path,delete a.policy,delete a["policy-descriptor"],delete a.scheme,delete a.sessionIndex,delete a.statusCode,delete a.timeout,a.body instanceof ArrayBuffer?(a.bodyBytes=a.body,delete a.body):ArrayBuffer.isView(a.body)?(a.bodyBytes=a.body.buffer.slice(a.body.byteOffset,a.body.byteLength+a.body.byteOffset),delete a.body):a.body&&delete a.bodyBytes,$done(a);break;case"Node.js":process.exit(1)}}}class s{static name="XML";static version="0.4.2";static about=()=>console.log(`\nüüß ${this.name} v${this.version}\n`);static#n="@";static#l="#";static#o={"&amp;":"&","&lt;":"<","&gt;":">","&apos;":"'","&quot;":'"'};static#g={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};static parse(e=new String,a=""){const t=this.#o,s=this.#n,n=this.#l;let l=function e(a,t){let l;switch(typeof a){case"string":case"undefined":l=a;break;case"object":const r=a.raw,u=a.name,c=a.tag,m=a.children;l=r||(c?function(e,a){if(!e)return;const t=e.split(/([^\s='"]+(?:\s*=\s*(?:'[\S\s]*?'|"[\S\s]*?"|[^\s'"]*))?)/),n=t.length;let l,o;for(let e=0;e<n;e++){let n=r(t[e]);if(!n)continue;l||(l={});const u=n.indexOf("=");if(u<0)n=s+n,o=null;else{o=n.substr(u+1).replace(/^\s+/,""),n=s+n.substr(0,u).replace(/\s+$/,"");const e=o[0];e!==o[o.length-1]||"'"!==e&&'"'!==e||(o=o.substr(1,o.length-2)),o=g(o)}a&&(o=a(n,o)),i(l,n,o)}return l;function r(e){return e?.trim?.()}}(c,t):m?{}:{[u]:void 0}),"plist"===u?l=Object.assign(l,o(m[0],t)):m?.forEach?.(((a,s)=>{"string"==typeof a?i(l,n,e(a,t),void 0):a.tag||a.children||a.raw?i(l,a.name,e(a,t),void 0):i(l,a.name,e(a,t),m?.[s-1]?.name)})),m&&0===m.length&&i(l,n,null,void 0),t&&(l=t(u||"",l))}return l;function i(e,a,t,s=a){if(void 0!==t){const n=e[s];Array.isArray(n)?n.push(t):n?e[s]=[n,t]:e[a]=t}}}(function(e){const a=e.replace(/^[ \t]+/gm,"").split(/<([^!<>?](?:'[\S\s]*?'|"[\S\s]*?"|[^'"<>])*|!(?:--[\S\s]*?--|\[[^\[\]'"<>]+\[[\S\s]*?]]|DOCTYPE[^\[<>]*?\[[\S\s]*?]|(?:ENTITY[^"<>]*?"[\S\s]*?")?[\S\s]*?)|\?[\S\s]*?\?)>/),t=a.length,s={children:[]};let n=s;const l=[];for(let e=0;e<t;){const t=a[e++];t&&i(t);const s=a[e++];s&&o(s)}return s;function o(e){const a=e.split(" "),t=a.shift(),s=a.length;let o={};switch(t[0]){case"/":const g=e.replace(/^\/|[\s\/].*$/g,"").toLowerCase();for(;l.length;){const e=n?.name?.toLowerCase?.();if(n=l.pop(),e===g)break}break;case"?":o.name=t,o.raw=a.join(" "),r(o);break;case"!":/!\[CDATA\[(.+)\]\]/.test(e)?(o.name="!CDATA",o.raw=e.match(/!\[CDATA\[(?<raw>.+)\]\]/)?.groups?.raw):/!--(.+)--/.test(e)?(o.name="!--",o.raw=e.match(/!--(?<raw>.+)--/)?.groups?.raw):(o.name=t,o.raw=a.join(" ")),r(o);break;default:if(o=function(e){const a={children:[]};e=e.replace(/\s*\/?$/,"");const t=e.search(/[\s='"\/]/);t<0?a.name=e:(a.name=e.substr(0,t),a.tag=e.substr(t));return a}(e),r(o),"/"===(a?.[s-1]??t).slice(-1))delete o.children;else if("link"===t)delete o.children;else l.push(n),n=o}}function i(e){(e=function(e){return e?.replace?.(/^(\r\n|\r|\n|\t)+|(\r\n|\r|\n|\t)+$/g,"")}(e))&&r(g(e))}function r(e){n.children.push(e)}}(e),a);return l;function o(e,a){let t;switch(typeof e){case"string":case"undefined":t=e;break;case"object":const s=e.name,n=e.children;switch(t={},s){case"plist":let e=o(n[0],a);t=Object.assign(t,e);break;case"dict":let l=n.map((e=>o(e,a)));l=function(e,a){var t=0,s=[];for(;t<e.length;)s.push(e.slice(t,t+=a));return s}(l,2),t=Object.fromEntries(l);break;case"array":Array.isArray(t)||(t=[]),t=n.map((e=>o(e,a)));break;case"key":t=n[0];break;case"true":case"false":const g=s;t=JSON.parse(g);break;case"integer":const i=n[0];t=BigInt(i);break;case"real":const r=n[0];t=parseFloat(r);break;case"string":t=n[0]}a&&(t=a(s||"",t))}return t}function g(e){return e.replace(/(&(?:lt|gt|amp|apos|quot|#(?:\d{1,6}|x[0-9a-fA-F]{1,5}));)/g,(function(e){if("#"===e[1]){const a="x"===e[2]?parseInt(e.substr(3),16):parseInt(e.substr(2),10);if(a>-1)return String.fromCharCode(a)}return t[e]||e}))}}static stringify(e=new Object,a=""){this.#g;const t=this.#n,s=this.#l;let n="";for(let a in e)n+=l(e[a],a,"");return n=a?n.replace(/\t/g,a):n.replace(/\t|\n/g,""),n;function l(e,a,n){let g="";switch(typeof e){case"object":if(Array.isArray(e))g=e.reduce(((e,t)=>e+`${n}${l(t,a,`${n}\t`)}\n`),"");else{let i="",r=!1;for(let s in e)s[0]===t?(i+=` ${s.substring(1)}="${e[s].toString()}"`,delete e[s]):void 0===e[s]?a=s:r=!0;if(g+=`${n}<${a}${i}${r||"link"===a?"":"/"}>`,r){if("plist"===a)g+=o(e,a,`${n}\t`);else for(let a in e)if(a===s)g+=e[a]??"";else g+=l(e[a],a,`${n}\t`);g+=("\n"===g.slice(-1)?n:"")+`</${a}>`}}break;case"string":switch(a){case"?xml":g+=`${n}<${a} ${e.toString()}>`;break;case"?":g+=`${n}<${a}${e.toString()}${a}>`;break;case"!--":g+=`${n}\x3c!--${e.toString()}--\x3e`;break;case"!DOCTYPE":g+=`${n}<${a} ${e.toString()}>`;break;case"!CDATA":g+=`${n}<![CDATA[${e.toString()}]]>`;break;case s:g+=e;break;default:g+=`${n}<${a}>${e.toString()}</${a}>`}break;case"undefined":g+=n+`<${a.toString()}/>`}return g}function o(e,a,t){let s="";switch(typeof e){case"boolean":s=`${t}<${e.toString()}/>`;break;case"number":s=`${t}<real>${e.toString()}</real>`;break;case"bigint":s=`${t}<integer>${e.toString()}</integer>`;break;case"string":s=`${t}<string>${e.toString()}</string>`;break;case"object":let g="";if(Array.isArray(e)){for(var n=0,l=e.length;n<l;n++)g+=`${t}${o(e[n],a,`${t}\t`)}`;s=`${t}<array>${g}${t}</array>`}else{let a="";Object.entries(e).forEach((([e,s])=>{a+=`${t}<key>${e}</key>`,a+=o(s,e,t)})),s=`${t}<dict>${a}${t}</dict>`}}return s}}}class n{static name="WebVTT";static version="2.2.0";static about=()=>console.log(`\nüüß ${this.name} v${this.version}\n`);static parse(e=new String,a={milliseconds:!0,timeStamp:!0,line:"single",lineBreak:"\n"}){const t=a.milliseconds?/^((?<index>\d+)(\r\n|\r|\n))?(?<timing>(?<startTime>[0-9:.,]+) --> (?<endTime>[0-9:.,]+)) ?(?<settings>.+)?[^](?<text>[\s\S]*)?$/:/^((?<index>\d+)(\r\n|\r|\n))?(?<timing>(?<startTime>[0-9:]+)[0-9.,]+ --> (?<endTime>[0-9:]+)[0-9.,]+) ?(?<settings>.+)?[^](?<text>[\s\S]*)?$/,s=e.split(/\r\n\r\n|\r\r|\n\n/),n={headers:{},comments:[],style:"",body:[]};return s.forEach((e=>{switch((e=e.trim()).substring(0,5).trim()){case"WEBVT":{let a=e.split(/\r\n|\r|\n/);n.headers.type=a.shift(),n.headers.options=a;break}case"NOTE":n.comments.push(e);break;case"STYLE":{let t=e.split(/\r\n|\r|\n/);t.shift(),n.style=t.join(a.lineBreak);break}default:let s=e.match(t)?.groups;if(s){if("WEBVTT"!==n.headers?.type&&(s.timing=s?.timing?.replace?.(",","."),s.startTime=s?.startTime?.replace?.(",","."),s.endTime=s?.endTime?.replace?.(",",".")),a.timeStamp){let e=s?.startTime?.replace?.(/(.*)/,"1970-01-01T$1Z");s.timeStamp=a.milliseconds?Date.parse(e):Date.parse(e)/1e3}switch(s.text=s?.text?.trimEnd?.(),a.line){case"single":s.text=s?.text?.replace?.(/\r\n|\r|\n/," ");break;case"multi":s.text=s?.text?.split?.(/\r\n|\r|\n/)}n.body.push(s)}}})),n}static stringify(e={headers:{},comments:[],style:"",body:[]},a={milliseconds:!0,timeStamp:!0,line:"single",lineBreak:"\n"}){return[e.headers=[e.headers?.type||"",e.headers?.options||""].flat(1/0).join(a.lineBreak),e.comments=e?.comments?.join?.(a.lineBreak),e.style=e?.style?.length>0?["STYLE",e.style].join(a.lineBreak):"",e.body=e.body.map((e=>(Array.isArray(e.text)&&(e.text=e.text.join(a.lineBreak)),e=`${e.index?e.index+a.lineBreak:""}${e.timing} ${e?.settings??""}${a.lineBreak}${e.text}`))).join(a.lineBreak+a.lineBreak)].join(a.lineBreak+a.lineBreak).trim()+a.lineBreak+a.lineBreak}}var l={Switch:!0,Type:"Translate",Types:["Official","Translate"],Languages:["EN","ZH"],CacheSize:50},o={breakLine:{"text/xml":"&#x000A;","application/xml":"&#x000A;","text/vtt":"\n","application/vtt":"\n","text/json":"\n","application/json":"\n"}},g={Settings:l,Configs:o},i={Switch:!0,Types:["Official","Translate"],Languages:["AUTO","ZH"]},r={Languages:{AUTO:["en","en-US","eng","en-GB","en-UK","en-CA","en-US SDH","ja","ja-JP","jpn","ko","ko-KR","kor","pt","pt-PT","pt-BR","por"],AR:["ar","ar-001"],BG:["bg","bg-BG","bul"],CS:["cs","cs-CZ","ces"],DA:["da","da-DK","dan"],DE:["de","de-DE","deu"],EL:["el","el-GR","ell"],EN:["en","en-US","eng","en-GB","en-UK","en-CA","en-US SDH"],"EN-CA":["en-CA","en","eng"],"EN-GB":["en-UK","en","eng"],"EN-US":["en-US","en","eng"],"EN-US SDH":["en-US SDH","en-US","en","eng"],ES:["es","es-419","es-ES","spa","es-419 SDH"],"ES-419":["es-419","es","spa"],"ES-419 SDH":["es-419 SDH","es-419","es","spa"],"ES-ES":["es-ES","es","spa"],ET:["et","et-EE","est"],FI:["fi","fi-FI","fin"],FR:["fr","fr-CA","fr-FR","fra"],"FR-CA":["fr-CA","fr","fra"],"FR-DR":["fr-FR","fr","fra"],HU:["hu","hu-HU","hun"],ID:["id","id-id"],IT:["it","it-IT","ita"],JA:["ja","ja-JP","jpn"],KO:["ko","ko-KR","kor"],LT:["lt","lt-LT","lit"],LV:["lv","lv-LV","lav"],NL:["nl","nl-NL","nld"],NO:["no","nb-NO","nor"],PL:["pl","pl-PL"],PT:["pt","pt-PT","pt-BR","por"],"PT-PT":["pt-PT","pt","por"],"PT-BR":["pt-BR","pt","por"],RO:["ro","ro-RO","ron"],RU:["ru","ru-RU","rus"],SK:["sk","sk-SK","slk"],SL:["sl","sl-SI","slv"],SV:["sv","sv-SE","swe"],IS:["is","is-IS","isl"],ZH:["zh","cmn","zho","zh-CN","zh-Hans","cmn-Hans","zh-TW","zh-Hant","cmn-Hant","zh-HK","yue-Hant","yue"],"ZH-CN":["zh-CN","zh-Hans","cmn-Hans","zho"],"ZH-HANS":["zh-Hans","cmn-Hans","zh-CN","zho"],"ZH-HK":["zh-HK","yue-Hant","yue","zho"],"ZH-TW":["zh-TW","zh-Hant","cmn-Hant","zho"],"ZH-HANT":["zh-Hant","cmn-Hant","zh-TW","zho"],YUE:["yue","yue-Hant","zh-HK","zho"],"YUE-HK":["yue-Hant","yue","zh-HK","zho"]}},u={Settings:i,Configs:r},c={Switch:!0,Type:"Official",Types:["Translate","External"],Languages:["AUTO","ZH"],AutoCC:!0,ShowOnly:!1},m={Languages:{BG:"bg-BG",CS:"cs",DA:"da-DK",DE:"de",EL:"el",EN:"en","EN-GB":"en-GB","EN-US":"en-US","EN-US SDH":"en-US SDH",ES:"es","ES-419":"es-419","ES-ES":"es-ES",ET:"et-EE",FI:"fi",FR:"fr",HU:"hu-HU",ID:"id",IS:"is-IS",IT:"it",JA:"ja",KO:"ko",LT:"lt-LT",LV:"lv-LV",NL:"nl-NL",NO:"nb-NO",PL:"pl-PL",PT:"pt","PT-PT":"pt-PT","PT-BR":"pt-BR",RO:"ro-RO",RU:"ru-RU",SK:"sk-SK",SL:"sl-SI",SV:"sv-SE",YUE:"yue","YUE-HK":"yue-HK",ZH:"zh","ZH-HANS":"zh-Hans","ZH-HK":"zh-Hant-HK","ZH-HANT":"zh-Hant","ZH-TW":"zh-TW"},translationLanguages:{DESKTOP:[{languageCode:"sq",languageName:{simpleText:"Shqip - ÈòøÂ∞îÂ∑¥Â∞º‰∫öËØ≠"}},{languageCode:"ak",languageName:{simpleText:"√Åk√°n - ÈòøËÇØËØ≠"}},{languageCode:"ar",languageName:{simpleText:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ© - ÈòøÊãâ‰ºØËØ≠"}},{languageCode:"am",languageName:{simpleText:"·ä†·àõ·à≠·äõ - ÈòøÂßÜÂìàÊãâËØ≠"}},{languageCode:"as",languageName:{simpleText:"‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ - ÈòøËê®ÂßÜËØ≠"}},{languageCode:"az",languageName:{simpleText:"ÿ¢ÿ∞ÿ±ÿ®ÿßŸäÿ¨ÿßŸÜ ÿØŸäŸÑ€å - ÈòøÂ°ûÊãúÁñÜËØ≠"}},{languageCode:"ee",languageName:{simpleText:"√à ãegbe - ÂüÉÁª¥ËØ≠"}},{languageCode:"ay",languageName:{simpleText:"Aymar aru - ËâæÈ©¨ÊãâËØ≠"}},{languageCode:"ga",languageName:{simpleText:"Gaeilge - Áà±Â∞îÂÖ∞ËØ≠"}},{languageCode:"et",languageName:{simpleText:"Eesti - Áà±Ê≤ôÂ∞º‰∫öËØ≠"}},{languageCode:"or",languageName:{simpleText:"‡¨ì‡¨°‡¨º‡¨ø‡¨Ü - Â••Èáå‰∫öËØ≠"}},{languageCode:"om",languageName:{simpleText:"Afaan Oromoo - Â••ÁΩóËé´ËØ≠"}},{languageCode:"eu",languageName:{simpleText:"Euskara - Â∑¥ÊñØÂÖãËØ≠"}},{languageCode:"be",languageName:{simpleText:"–ë–µ–ª–∞—Ä—É—Å–∫–∞—è - ÁôΩ‰øÑÁΩóÊñØËØ≠"}},{languageCode:"bg",languageName:{simpleText:"–ë—ä–ª–≥–∞—Ä—Å–∫–∏ - ‰øùÂä†Âà©‰∫öËØ≠"}},{languageCode:"nso",languageName:{simpleText:"Sesotho sa Leboa - ÂåóÁ¥¢ÊâòËØ≠"}},{languageCode:"is",languageName:{simpleText:"√çslenska - ÂÜ∞Â≤õËØ≠"}},{languageCode:"pl",languageName:{simpleText:"Polski - Ê≥¢ÂÖ∞ËØ≠"}},{languageCode:"bs",languageName:{simpleText:"Bosanski - Ê≥¢ÊñØÂ∞º‰∫öËØ≠"}},{languageCode:"fa",languageName:{simpleText:"ŸÅÿßÿ±ÿ≥€å - Ê≥¢ÊñØËØ≠"}},{languageCode:"bho",languageName:{simpleText:"‡§≠‡•ã‡§ú‡§™‡•Å‡§∞‡•Ä - ÂçöÊù∞ÊôÆÂ∞îËØ≠"}},{languageCode:"ts",languageName:{simpleText:"Xitsonga - ËÅ™Âä†ËØ≠"}},{languageCode:"tt",languageName:{simpleText:"–¢–∞—Ç–∞—Ä—á–∞ - ÈûëÈùºËØ≠"}},{languageCode:"da",languageName:{simpleText:"Dansk - ‰∏πÈ∫¶ËØ≠"}},{languageCode:"de",languageName:{simpleText:"Deutsch - Âæ∑ËØ≠"}},{languageCode:"dv",languageName:{simpleText:"ﬁãﬁ®ﬁàﬁ¨ﬁÄﬁ®ﬁÑﬁ¶ﬁêﬁ∞ - Ëø™Áª¥Â∏åËØ≠"}},{languageCode:"ru",languageName:{simpleText:"–†—É—Å—Å–∫–∏–π - ‰øÑËØ≠"}},{languageCode:"fr",languageName:{simpleText:"fran√ßais - Ê≥ïËØ≠"}},{languageCode:"sa",languageName:{simpleText:"‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§Æ‡•ç - Ê¢µËØ≠"}},{languageCode:"fil",languageName:{simpleText:"Filipino - Ëè≤ÂæãÂÆæËØ≠"}},{languageCode:"fi",languageName:{simpleText:"suomi - Ëä¨ÂÖ∞ËØ≠"}},{languageCode:"km",languageName:{simpleText:"·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö - È´òÊ£âËØ≠"}},{languageCode:"ka",languageName:{simpleText:"·É•·Éê·É†·Éó·É£·Éö·Éò - Ê†ºÈ≤ÅÂêâ‰∫öËØ≠"}},{languageCode:"gu",languageName:{simpleText:"‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä - Âè§ÂêâÊãâÁâπËØ≠"}},{languageCode:"gn",languageName:{simpleText:"Ava√±e'·∫Ω - ÁìúÊãâÂ∞ºËØ≠"}},{languageCode:"kk",languageName:{simpleText:"“ö–∞–∑–∞“õ —Ç—ñ–ª—ñ - ÂìàËê®ÂÖãËØ≠"}},{languageCode:"ht",languageName:{simpleText:"Krey√≤l ayisyen - Êµ∑Âú∞ÂÖãÈáåÂ••Â∞îËØ≠"}},{languageCode:"ko",languageName:{simpleText:"ÌïúÍµ≠Ïñ¥ - Èü©ËØ≠"}},{languageCode:"ha",languageName:{simpleText:"ŸáŸéŸàŸèÿ≥Ÿé - Ë±™Ëê®ËØ≠"}},{languageCode:"nl",languageName:{simpleText:"Nederlands - Ëç∑ÂÖ∞ËØ≠"}},{languageCode:"gl",languageName:{simpleText:"Galego - Âä†Âà©Ë•ø‰∫öËØ≠"}},{languageCode:"ca",languageName:{simpleText:"catal√† - Âä†Ê≥∞ÁΩóÂ∞º‰∫öËØ≠"}},{languageCode:"cs",languageName:{simpleText:"ƒçe≈°tina - Êç∑ÂÖãËØ≠"}},{languageCode:"kn",languageName:{simpleText:"‡≤ï‡≤®‡≥ç‡≤®‡≤° - Âç°Á∫≥ËææËØ≠"}},{languageCode:"ky",languageName:{simpleText:"–∫—ã—Ä–≥—ã–∑ —Ç–∏–ª–∏ - ÂêâÂ∞îÂêâÊñØËØ≠"}},{languageCode:"xh",languageName:{simpleText:"isiXhosa - ÁßëËê®ËØ≠"}},{languageCode:"co",languageName:{simpleText:"corsu - ÁßëË•øÂòâËØ≠"}},{languageCode:"hr",languageName:{simpleText:"hrvatski - ÂÖãÁΩóÂú∞‰∫öËØ≠"}},{languageCode:"qu",languageName:{simpleText:"Runa Simi - ÂÖã‰∏ò‰∫öËØ≠"}},{languageCode:"ku",languageName:{simpleText:"Kurd√Æ - Â∫ìÂ∞îÂæ∑ËØ≠"}},{languageCode:"la",languageName:{simpleText:"lingua latƒ´na - Êãâ‰∏ÅËØ≠"}},{languageCode:"lv",languageName:{simpleText:"latvie≈°u valoda - ÊãâËÑ±Áª¥‰∫öËØ≠"}},{languageCode:"lo",languageName:{simpleText:"‡∫û‡∫≤‡∫™‡∫≤‡∫•‡∫≤‡∫ß - ËÄÅÊåùËØ≠"}},{languageCode:"lt",languageName:{simpleText:"lietuvi≈≥ kalba - Á´ãÈô∂ÂÆõËØ≠"}},{languageCode:"ln",languageName:{simpleText:"ling√°la - ÊûóÂä†ÊãâËØ≠"}},{languageCode:"lg",languageName:{simpleText:"Luganda - Âç¢Âπ≤ËææËØ≠"}},{languageCode:"lb",languageName:{simpleText:"L√´tzebuergesch - Âç¢Ê£ÆÂ†°ËØ≠"}},{languageCode:"rw",languageName:{simpleText:"Kinyarwanda - Âç¢Êó∫ËææËØ≠"}},{languageCode:"ro",languageName:{simpleText:"Rom√¢nƒÉ - ÁΩóÈ©¨Â∞º‰∫öËØ≠"}},{languageCode:"mt",languageName:{simpleText:"Malti - È©¨ËÄ≥‰ªñËØ≠"}},{languageCode:"mr",languageName:{simpleText:"‡§Æ‡§∞‡§æ‡§†‡•Ä - È©¨ÊãâÂú∞ËØ≠"}},{languageCode:"mg",languageName:{simpleText:"Malagasy - È©¨ÊãâÂä†ÊñØËØ≠"}},{languageCode:"ml",languageName:{simpleText:"‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç - È©¨ÊãâÈõÖÊãâÂßÜËØ≠"}},{languageCode:"ms",languageName:{simpleText:"bahasa Melayu - È©¨Êù•ËØ≠"}},{languageCode:"mk",languageName:{simpleText:"–º–∞–∫–µ–¥–æ–Ω—Å–∫–∏ —ò–∞–∑–∏–∫ - È©¨ÂÖ∂È°øËØ≠"}},{languageCode:"mi",languageName:{simpleText:"te reo MƒÅori - ÊØõÂà©ËØ≠"}},{languageCode:"mn",languageName:{simpleText:"–ú–æ–Ω–≥–æ–ª —Ö—ç–ª - ËíôÂè§ËØ≠"}},{languageCode:"bn",languageName:{simpleText:"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ - Â≠üÂä†ÊãâËØ≠"}},{languageCode:"my",languageName:{simpleText:"·Äó·Äô·Ä¨·ÄÖ·Ä¨ - ÁºÖÁî∏ËØ≠"}},{languageCode:"hmn",languageName:{simpleText:"Hmoob - ËãóËØ≠"}},{languageCode:"af",languageName:{simpleText:"Afrikaans - ÂçóÈùûËç∑ÂÖ∞ËØ≠"}},{languageCode:"st",languageName:{simpleText:"Sesotho - ÂçóÁ¥¢ÊâòËØ≠"}},{languageCode:"ne",languageName:{simpleText:"‡§®‡•á‡§™‡§æ‡§≤‡•Ä - Â∞ºÊ≥äÂ∞îËØ≠"}},{languageCode:"no",languageName:{simpleText:"Norsk - Êå™Â®ÅËØ≠"}},{languageCode:"pa",languageName:{simpleText:"‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä - ÊóÅÈÅÆÊôÆËØ≠"}},{languageCode:"pt",languageName:{simpleText:"Portugu√™s - Ëë°ËêÑÁâôËØ≠"}},{languageCode:"ps",languageName:{simpleText:"Ÿæ⁄öÿ™Ÿà - ÊôÆ‰ªÄÂõæËØ≠"}},{languageCode:"ny",languageName:{simpleText:"chiChe≈µa - ÈΩêÂàáÁì¶ËØ≠"}},{languageCode:"ja",languageName:{simpleText:"Êó•Êú¨Ë™û - Êó•ËØ≠"}},{languageCode:"sv",languageName:{simpleText:"Svenska - ÁëûÂÖ∏ËØ≠"}},{languageCode:"sm",languageName:{simpleText:"Gagana fa'a Samoa - Ëê®Êë©‰∫öËØ≠"}},{languageCode:"sr",languageName:{simpleText:"–°—Ä–ø—Å–∫–∏ —ò–µ–∑–∏–∫ - Â°ûÂ∞îÁª¥‰∫öËØ≠"}},{languageCode:"si",languageName:{simpleText:"‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω - ÂÉß‰ºΩÁΩóËØ≠"}},{languageCode:"sn",languageName:{simpleText:"ChiShona - ÁªçÁ∫≥ËØ≠"}},{languageCode:"eo",languageName:{simpleText:"Esperanto - ‰∏ñÁïåËØ≠"}},{languageCode:"sk",languageName:{simpleText:"slovenƒçina - ÊñØÊ¥õ‰ºêÂÖãËØ≠"}},{languageCode:"sl",languageName:{simpleText:"sloven≈°ƒçina - ÊñØÊ¥õÊñáÂ∞º‰∫öËØ≠"}},{languageCode:"sw",languageName:{simpleText:"Kiswahili - ÊñØÁì¶Â∏åÈáåËØ≠"}},{languageCode:"gd",languageName:{simpleText:"G√†idhlig - ËãèÊ†ºÂÖ∞ÁõñÂ∞îËØ≠"}},{languageCode:"ceb",languageName:{simpleText:"Binisaya - ÂÆøÂä°ËØ≠"}},{languageCode:"so",languageName:{simpleText:"Soomaaliga - Á¥¢È©¨ÈáåËØ≠"}},{languageCode:"tg",languageName:{simpleText:"—Ç–æ“∑–∏–∫”£ - Â°îÂêâÂÖãËØ≠"}},{languageCode:"te",languageName:{simpleText:"‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å - Ê≥∞Âç¢Âõ∫ËØ≠"}},{languageCode:"ta",languageName:{simpleText:"‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç - Ê≥∞Á±≥Â∞îËØ≠"}},{languageCode:"th",languageName:{simpleText:"‡πÑ‡∏ó‡∏¢ - Ê≥∞ËØ≠"}},{languageCode:"ti",languageName:{simpleText:"·âµ·åç·à≠·äõ - ÊèêÊ†ºÂà©Â∞º‰∫öËØ≠"}},{languageCode:"tr",languageName:{simpleText:"T√ºrk√ße - ÂúüËÄ≥ÂÖ∂ËØ≠"}},{languageCode:"tk",languageName:{simpleText:"T√ºrkmen - ÂúüÂ∫ìÊõºËØ≠"}},{languageCode:"cy",languageName:{simpleText:"Cymraeg - Â®ÅÂ∞îÂ£´ËØ≠"}},{languageCode:"ug",languageName:{simpleText:"ÿ¶€áŸäÿ∫€áÿ±⁄Ü€ï - Áª¥ÂêæÂ∞îËØ≠"}},{languageCode:"und",languageName:{simpleText:"Unknown - Êú™Áü•ËØ≠Ë®Ä"}},{languageCode:"ur",languageName:{simpleText:"ÿßÿ±ÿØŸà - ‰πåÂ∞îÈÉΩËØ≠"}},{languageCode:"uk",languageName:{simpleText:"—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ - ‰πåÂÖãÂÖ∞ËØ≠"}},{languageCode:"uz",languageName:{simpleText:"O'zbek - ‰πåÂÖπÂà´ÂÖãËØ≠"}},{languageCode:"es",languageName:{simpleText:"Espa√±ol - Ë•øÁè≠ÁâôËØ≠"}},{languageCode:"fy",languageName:{simpleText:"Frysk - Ë•øÂºóÈáåË•ø‰∫öËØ≠"}},{languageCode:"iw",languageName:{simpleText:"◊¢◊ë◊®◊ô◊™ - Â∏å‰ºØÊù•ËØ≠"}},{languageCode:"el",languageName:{simpleText:"ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨ - Â∏åËÖäËØ≠"}},{languageCode:"haw",languageName:{simpleText:" ª≈ålelo Hawai ªi - Â§èÂ®ÅÂ§∑ËØ≠"}},{languageCode:"sd",languageName:{simpleText:"ÿ≥ŸÜ⁄åŸä - ‰ø°Âæ∑ËØ≠"}},{languageCode:"hu",languageName:{simpleText:"magyar - ÂåàÁâôÂà©ËØ≠"}},{languageCode:"su",languageName:{simpleText:"Basa Sunda - Â∑Ω‰ªñËØ≠"}},{languageCode:"hy",languageName:{simpleText:"’∞’°’µ’•÷Ä’•’∂ - ‰∫öÁæéÂ∞º‰∫öËØ≠"}},{languageCode:"ig",languageName:{simpleText:"Igbo - ‰ºäÂçöËØ≠"}},{languageCode:"it",languageName:{simpleText:"Italiano - ÊÑèÂ§ßÂà©ËØ≠"}},{languageCode:"yi",languageName:{simpleText:"◊ô◊ô÷¥◊ì◊ô◊© - ÊÑèÁ¨¨Áª™ËØ≠"}},{languageCode:"hi",languageName:{simpleText:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä - Âç∞Âú∞ËØ≠"}},{languageCode:"id",languageName:{simpleText:"Bahasa Indonesia - Âç∞Â∫¶Â∞ºË•ø‰∫öËØ≠"}},{languageCode:"en",languageName:{simpleText:"English - Ëã±ËØ≠"}},{languageCode:"yo",languageName:{simpleText:"Yor√πb√° - Á∫¶È≤ÅÂ∑¥ËØ≠"}},{languageCode:"vi",languageName:{simpleText:"Ti·∫øng Vi·ªát - Ë∂äÂçóËØ≠"}},{languageCode:"jv",languageName:{simpleText:"Basa Jawa - Áà™ÂìáËØ≠"}},{languageCode:"zh-Hant",languageName:{simpleText:"‰∏≠ÊñáÔºàÁπÅÈ´îÔºâ- ‰∏≠ÊñáÔºàÁπÅ‰ΩìÔºâ"}},{languageCode:"zh-Hans",languageName:{simpleText:"‰∏≠ÊñáÔºàÁÆÄ‰ΩìÔºâ"}},{languageCode:"zu",languageName:{simpleText:"isiZulu - Á•ñÈ≤ÅËØ≠"}},{languageCode:"kri",languageName:{simpleText:"Kr√¨√¨ - ÂÖãÈáåËØ≠"}}],MOBILE:[{languageCode:"sq",languageName:{runs:[{text:"Shqip - ÈòøÂ∞îÂ∑¥Â∞º‰∫öËØ≠"}]}},{languageCode:"ak",languageName:{runs:[{text:"√Åk√°n - ÈòøËÇØËØ≠"}]}},{languageCode:"ar",languageName:{runs:[{text:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ© - ÈòøÊãâ‰ºØËØ≠"}]}},{languageCode:"am",languageName:{runs:[{text:"·ä†·àõ·à≠·äõ - ÈòøÂßÜÂìàÊãâËØ≠"}]}},{languageCode:"as",languageName:{runs:[{text:"‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ - ÈòøËê®ÂßÜËØ≠"}]}},{languageCode:"az",languageName:{runs:[{text:"Az…ôrbaycanca - ÈòøÂ°ûÊãúÁñÜËØ≠"}]}},{languageCode:"ee",languageName:{runs:[{text:"E ãegbe - ÂüÉÁª¥ËØ≠"}]}},{languageCode:"ay",languageName:{runs:[{text:"Aymar - ËâæÈ©¨ÊãâËØ≠"}]}},{languageCode:"ga",languageName:{runs:[{text:"Gaeilge - Áà±Â∞îÂÖ∞ËØ≠"}]}},{languageCode:"et",languageName:{runs:[{text:"Eesti - Áà±Ê≤ôÂ∞º‰∫öËØ≠"}]}},{languageCode:"or",languageName:{runs:[{text:"‡¨ì‡¨°‡¨º‡¨ø‡¨Ü - Â••Èáå‰∫öËØ≠"}]}},{languageCode:"om",languageName:{runs:[{text:"Oromoo - Â••ÁΩóËé´ËØ≠"}]}},{languageCode:"eu",languageName:{runs:[{text:"Euskara - Â∑¥ÊñØÂÖãËØ≠"}]}},{languageCode:"be",languageName:{runs:[{text:"–ë–µ–ª–∞—Ä—É—Å–∫–∞—è - ÁôΩ‰øÑÁΩóÊñØËØ≠"}]}},{languageCode:"bg",languageName:{runs:[{text:"–ë—ä–ª–≥–∞—Ä—Å–∫–∏ - ‰øùÂä†Âà©‰∫öËØ≠"}]}},{languageCode:"nso",languageName:{runs:[{text:"Sesotho sa Leboa - ÂåóÁ¥¢ÊâòËØ≠"}]}},{languageCode:"is",languageName:{runs:[{text:"√çslenska - ÂÜ∞Â≤õËØ≠"}]}},{languageCode:"pl",languageName:{runs:[{text:"Polski - Ê≥¢ÂÖ∞ËØ≠"}]}},{languageCode:"bs",languageName:{runs:[{text:"Bosanski - Ê≥¢ÊñØÂ∞º‰∫öËØ≠"}]}},{languageCode:"fa",languageName:{runs:[{text:"ŸÅÿßÿ±ÿ≥€å - Ê≥¢ÊñØËØ≠"}]}},{languageCode:"bho",languageName:{runs:[{text:"‡§≠‡•ã‡§ú‡§™‡•Å‡§∞‡•Ä - ÂçöÊù∞ÊôÆÂ∞îËØ≠"}]}},{languageCode:"ts",languageName:{runs:[{text:"Xitsonga - ËÅ™Âä†ËØ≠"}]}},{languageCode:"tt",languageName:{runs:[{text:"–¢–∞—Ç–∞—Ä—á–∞ - ÈûëÈùºËØ≠"}]}},{languageCode:"da",languageName:{runs:[{text:"Dansk - ‰∏πÈ∫¶ËØ≠"}]}},{languageCode:"de",languageName:{runs:[{text:"Deutsch - Âæ∑ËØ≠"}]}},{languageCode:"dv",languageName:{runs:[{text:"ﬁãﬁ®ﬁàﬁ¨ﬁÄﬁ®ﬁÑﬁ¶ﬁêﬁ∞ - Ëø™Áª¥Â∏åËØ≠"}]}},{languageCode:"ru",languageName:{runs:[{text:"–†—É—Å—Å–∫–∏–π - ‰øÑËØ≠"}]}},{languageCode:"fr",languageName:{runs:[{text:"Fran√ßais - Ê≥ïËØ≠"}]}},{languageCode:"sa",languageName:{runs:[{text:"‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§Æ‡•ç - Ê¢µËØ≠"}]}},{languageCode:"fil",languageName:{runs:[{text:"Filipino - Ëè≤ÂæãÂÆæËØ≠"}]}},{languageCode:"fi",languageName:{runs:[{text:"Suomi - Ëä¨ÂÖ∞ËØ≠"}]}},{languageCode:"km",languageName:{runs:[{text:"·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö - È´òÊ£âËØ≠"}]}},{languageCode:"ka",languageName:{runs:[{text:"·É•·Éê·É†·Éó·É£·Éö·Éò - Ê†ºÈ≤ÅÂêâ‰∫öËØ≠"}]}},{languageCode:"gu",languageName:{runs:[{text:"‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä - Âè§ÂêâÊãâÁâπËØ≠"}]}},{languageCode:"gn",languageName:{runs:[{text:"Ava√±e'·∫Ω - ÁìúÊãâÂ∞ºËØ≠"}]}},{languageCode:"kk",languageName:{runs:[{text:"“ö–∞–∑–∞“õ —Ç—ñ–ª—ñ - ÂìàËê®ÂÖãËØ≠"}]}},{languageCode:"ht",languageName:{runs:[{text:"Êµ∑Âú∞ÂÖãÈáåÂ••Â∞îËØ≠"}]}},{languageCode:"ko",languageName:{runs:[{text:"ÌïúÍµ≠Îßê - Èü©ËØ≠"}]}},{languageCode:"ha",languageName:{runs:[{text:"ŸáŸéŸàŸèÿ≥Ÿé - Ë±™Ëê®ËØ≠"}]}},{languageCode:"nl",languageName:{runs:[{text:"Nederlands - Ëç∑ÂÖ∞ËØ≠"}]}},{languageCode:"gl",languageName:{runs:[{text:"Galego - Âä†Âà©Ë•ø‰∫öËØ≠"}]}},{languageCode:"ca",languageName:{runs:[{text:"Catal√† - Âä†Ê≥∞ÁΩóÂ∞º‰∫öËØ≠"}]}},{languageCode:"cs",languageName:{runs:[{text:"ƒåe≈°tina - Êç∑ÂÖãËØ≠"}]}},{languageCode:"kn",languageName:{runs:[{text:"‡≤ï‡≤®‡≥ç‡≤®‡≤° - Âç°Á∫≥ËææËØ≠"}]}},{languageCode:"ky",languageName:{runs:[{text:"–ö—ã—Ä–≥—ã–∑—á–∞ - ÂêâÂ∞îÂêâÊñØËØ≠"}]}},{languageCode:"xh",languageName:{runs:[{text:"isiXhosa - ÁßëËê®ËØ≠"}]}},{languageCode:"co",languageName:{runs:[{text:"Corsu - ÁßëË•øÂòâËØ≠"}]}},{languageCode:"hr",languageName:{runs:[{text:"Hrvatski - ÂÖãÁΩóÂú∞‰∫öËØ≠"}]}},{languageCode:"qu",languageName:{runs:[{text:"Runa Simi - ÂÖã‰∏ò‰∫öËØ≠"}]}},{languageCode:"ku",languageName:{runs:[{text:"Kurd√Æ - Â∫ìÂ∞îÂæ∑ËØ≠"}]}},{languageCode:"la",languageName:{runs:[{text:"lingua latƒ´na - Êãâ‰∏ÅËØ≠"}]}},{languageCode:"lv",languageName:{runs:[{text:"Latvie≈°u - ÊãâËÑ±Áª¥‰∫öËØ≠"}]}},{languageCode:"lo",languageName:{runs:[{text:"‡∫•‡∫≤‡∫ß - ËÄÅÊåùËØ≠"}]}},{languageCode:"lt",languageName:{runs:[{text:"Lietuvi≈≥ - Á´ãÈô∂ÂÆõËØ≠"}]}},{languageCode:"ln",languageName:{runs:[{text:"Ling√°la - ÊûóÂä†ÊãâËØ≠"}]}},{languageCode:"lg",languageName:{runs:[{text:"Luganda - Âç¢Âπ≤ËææËØ≠"}]}},{languageCode:"lb",languageName:{runs:[{text:"L√´tzebuergesch - Âç¢Ê£ÆÂ†°ËØ≠"}]}},{languageCode:"rw",languageName:{runs:[{text:"Kinyarwanda - Âç¢Êó∫ËææËØ≠"}]}},{languageCode:"ro",languageName:{runs:[{text:"Rom√¢nƒÉ - ÁΩóÈ©¨Â∞º‰∫öËØ≠"}]}},{languageCode:"mt",languageName:{runs:[{text:"Malti - È©¨ËÄ≥‰ªñËØ≠"}]}},{languageCode:"mr",languageName:{runs:[{text:"‡§Æ‡§∞‡§æ‡§†‡•Ä - È©¨ÊãâÂú∞ËØ≠"}]}},{languageCode:"mg",languageName:{runs:[{text:"Malagasy - È©¨ÊãâÂä†ÊñØËØ≠"}]}},{languageCode:"ml",languageName:{runs:[{text:"‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç - È©¨ÊãâÈõÖÊãâÂßÜËØ≠"}]}},{languageCode:"ms",languageName:{runs:[{text:"Bahasa Melayu - È©¨Êù•ËØ≠"}]}},{languageCode:"mk",languageName:{runs:[{text:"–º–∞–∫–µ–¥–æ–Ω—Å–∫–∏ - È©¨ÂÖ∂È°øËØ≠"}]}},{languageCode:"mi",languageName:{runs:[{text:"MƒÅori - ÊØõÂà©ËØ≠"}]}},{languageCode:"mn",languageName:{runs:[{text:"–ú–æ–Ω–≥–æ–ª - ËíôÂè§ËØ≠"}]}},{languageCode:"bn",languageName:{runs:[{text:"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ - Â≠üÂä†ÊãâËØ≠"}]}},{languageCode:"my",languageName:{runs:[{text:"·Äó·Äô·Ä¨·ÄÖ·Ä¨ - ÁºÖÁî∏ËØ≠"}]}},{languageCode:"hmn",languageName:{runs:[{text:"Hmoob - ËãóËØ≠"}]}},{languageCode:"af",languageName:{runs:[{text:"Afrikaans - ÂçóÈùûËç∑ÂÖ∞ËØ≠"}]}},{languageCode:"st",languageName:{runs:[{text:"Sesotho - ÂçóÁ¥¢ÊâòËØ≠"}]}},{languageCode:"ne",languageName:{runs:[{text:"‡§®‡•á‡§™‡§æ‡§≤‡•Ä - Â∞ºÊ≥äÂ∞îËØ≠"}]}},{languageCode:"no",languageName:{runs:[{text:"Norsk - Êå™Â®ÅËØ≠"}]}},{languageCode:"pa",languageName:{runs:[{text:"‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä - ÊóÅÈÅÆÊôÆËØ≠"}]}},{languageCode:"pt",languageName:{runs:[{text:"Portugu√™s - Ëë°ËêÑÁâôËØ≠"}]}},{languageCode:"ps",languageName:{runs:[{text:"Ÿæ⁄öÿ™Ÿà - ÊôÆ‰ªÄÂõæËØ≠"}]}},{languageCode:"ny",languageName:{runs:[{text:"chiChe≈µa - ÈΩêÂàáÁì¶ËØ≠"}]}},{languageCode:"ja",languageName:{runs:[{text:"Êó•Êú¨Ë™û - Êó•ËØ≠"}]}},{languageCode:"sv",languageName:{runs:[{text:"Svenska - ÁëûÂÖ∏ËØ≠"}]}},{languageCode:"sm",languageName:{runs:[{text:"Gagana Samoa - Ëê®Êë©‰∫öËØ≠"}]}},{languageCode:"sr",languageName:{runs:[{text:"–°—Ä–ø—Å–∫–∏ —ò–µ–∑–∏–∫ - Â°ûÂ∞îÁª¥‰∫öËØ≠"}]}},{languageCode:"si",languageName:{runs:[{text:"‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω - ÂÉß‰ºΩÁΩóËØ≠"}]}},{languageCode:"sn",languageName:{runs:[{text:"ChiShona - ÁªçÁ∫≥ËØ≠"}]}},{languageCode:"eo",languageName:{runs:[{text:"Esperanto - ‰∏ñÁïåËØ≠"}]}},{languageCode:"sk",languageName:{runs:[{text:"Slovenƒçina - ÊñØÊ¥õ‰ºêÂÖãËØ≠"}]}},{languageCode:"sl",languageName:{runs:[{text:"Sloven≈°ƒçina - ÊñØÊ¥õÊñáÂ∞º‰∫öËØ≠"}]}},{languageCode:"sw",languageName:{runs:[{text:"Kiswahili - ÊñØÁì¶Â∏åÈáåËØ≠"}]}},{languageCode:"gd",languageName:{runs:[{text:"G√†idhlig - ËãèÊ†ºÂÖ∞ÁõñÂ∞îËØ≠"}]}},{languageCode:"ceb",languageName:{runs:[{text:"Cebuano - ÂÆøÂä°ËØ≠"}]}},{languageCode:"so",languageName:{runs:[{text:"Soomaaliga - Á¥¢È©¨ÈáåËØ≠"}]}},{languageCode:"tg",languageName:{runs:[{text:"—Ç–æ“∑–∏–∫”£ - Â°îÂêâÂÖãËØ≠"}]}},{languageCode:"te",languageName:{runs:[{text:"‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å - Ê≥∞Âç¢Âõ∫ËØ≠"}]}},{languageCode:"ta",languageName:{runs:[{text:"‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç - Ê≥∞Á±≥Â∞îËØ≠"}]}},{languageCode:"th",languageName:{runs:[{text:"‡πÑ‡∏ó‡∏¢ - Ê≥∞ËØ≠"}]}},{languageCode:"ti",languageName:{runs:[{text:"·âµ·åç·à≠·äõ - ÊèêÊ†ºÂà©Â∞º‰∫öËØ≠"}]}},{languageCode:"tr",languageName:{runs:[{text:"T√ºrk√ße - ÂúüËÄ≥ÂÖ∂ËØ≠"}]}},{languageCode:"tk",languageName:{runs:[{text:"T√ºrkmen - ÂúüÂ∫ìÊõºËØ≠"}]}},{languageCode:"cy",languageName:{runs:[{text:"Cymraeg - Â®ÅÂ∞îÂ£´ËØ≠"}]}},{languageCode:"ug",languageName:{runs:[{text:"ÿ¶€áŸäÿ∫€áÿ±⁄Ü€ï - Áª¥ÂêæÂ∞îËØ≠"}]}},{languageCode:"und",languageName:{runs:[{text:"Unknown - Êú™Áü•ËØ≠Ë®Ä"}]}},{languageCode:"ur",languageName:{runs:[{text:"ÿßÿ±ÿØŸà - ‰πåÂ∞îÈÉΩËØ≠"}]}},{languageCode:"uk",languageName:{runs:[{text:"–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ - ‰πåÂÖãÂÖ∞ËØ≠"}]}},{languageCode:"uz",languageName:{runs:[{text:"O‚Äòzbek - ‰πåÂÖπÂà´ÂÖãËØ≠"}]}},{languageCode:"es",languageName:{runs:[{text:"Espa√±ol - Ë•øÁè≠ÁâôËØ≠"}]}},{languageCode:"fy",languageName:{runs:[{text:"Frysk - Ë•øÂºóÈáåË•ø‰∫öËØ≠"}]}},{languageCode:"iw",languageName:{runs:[{text:"◊¢◊ë◊®◊ô◊™ - Â∏å‰ºØÊù•ËØ≠"}]}},{languageCode:"el",languageName:{runs:[{text:"ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨ - Â∏åËÖäËØ≠"}]}},{languageCode:"haw",languageName:{runs:[{text:" ª≈ålelo Hawai ªi - Â§èÂ®ÅÂ§∑ËØ≠"}]}},{languageCode:"sd",languageName:{runs:[{text:"ÿ≥ŸÜ⁄åŸä - ‰ø°Âæ∑ËØ≠"}]}},{languageCode:"hu",languageName:{runs:[{text:"Magyar - ÂåàÁâôÂà©ËØ≠"}]}},{languageCode:"su",languageName:{runs:[{text:"Basa Sunda - Â∑Ω‰ªñËØ≠"}]}},{languageCode:"hy",languageName:{runs:[{text:"’Ä’°’µ’•÷Ä’•’∂ - ‰∫öÁæéÂ∞º‰∫öËØ≠"}]}},{languageCode:"ig",languageName:{runs:[{text:"Igbo - ‰ºäÂçöËØ≠"}]}},{languageCode:"it",languageName:{runs:[{text:"Italiano - ÊÑèÂ§ßÂà©ËØ≠"}]}},{languageCode:"yi",languageName:{runs:[{text:"◊ô◊ô÷¥◊ì◊ô◊© - ÊÑèÁ¨¨Áª™ËØ≠"}]}},{languageCode:"hi",languageName:{runs:[{text:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä - Âç∞Âú∞ËØ≠"}]}},{languageCode:"id",languageName:{runs:[{text:"Bahasa Indonesia - Âç∞Â∫¶Â∞ºË•ø‰∫öËØ≠"}]}},{languageCode:"en",languageName:{runs:[{text:"English - Ëã±ËØ≠"}]}},{languageCode:"yo",languageName:{runs:[{text:"Yor√πb√° - Á∫¶È≤ÅÂ∑¥ËØ≠"}]}},{languageCode:"vi",languageName:{runs:[{text:"Ti·∫øng Vi·ªát - Ë∂äÂçóËØ≠"}]}},{languageCode:"jv",languageName:{runs:[{text:"Basa Jawa - Áà™ÂìáËØ≠"}]}},{languageCode:"zh-Hant",languageName:{runs:[{text:"‰∏≠ÊñáÔºàÁπÅÈ´îÔºâ - ‰∏≠ÊñáÔºàÁπÅ‰ΩìÔºâ"}]}},{languageCode:"zh-Hans",languageName:{runs:[{text:"‰∏≠ÊñáÔºàÁÆÄ‰ΩìÔºâ"}]}},{languageCode:"zu",languageName:{runs:[{text:"isiZulu - Á•ñÈ≤ÅËØ≠"}]}},{languageCode:"kri",languageName:{runs:[{text:"Kr√¨√¨ - ÂÖãÈáåËØ≠"}]}}]}},d={Settings:c,Configs:m},h={Switch:!0,Type:"Translate",Languages:["AUTO","ZH"]},p={Languages:{AR:"ar",CS:"cs",DA:"da",DE:"de",EN:"en","EN-GB":"en-GB","EN-US":"en-US","EN-US SDH":"en-US SDH",ES:"es","ES-419":"es-419","ES-ES":"es-ES",FI:"fi",FR:"fr",HE:"he",HR:"hr",HU:"hu",ID:"id",IT:"it",JA:"ja",KO:"ko",MS:"ms",NB:"nb",NL:"nl",PL:"pl",PT:"pt","PT-PT":"pt-PT","PT-BR":"pt-BR",RO:"ro",RU:"ru",SV:"sv",TH:"th",TR:"tr",UK:"uk",VI:"vi",IS:"is",ZH:"zh","ZH-HANS":"zh-Hans","ZH-HK":"zh-HK","ZH-HANT":"zh-Hant"}},f={Settings:h,Configs:p},y={Switch:!0,Types:["Translate","External"],Languages:["AUTO","ZH"]},x={Settings:y},b={CacheSize:20,ShowOnly:!1,Position:"Reverse",Offset:0,Tolerance:1e3},C={Settings:b},N={Vendor:"Google",ShowOnly:!1,Position:"Forward",CacheSize:10,Method:"Part",Times:3,Interval:500,Exponential:!0},S={Settings:N},T={SubVendor:"URL",LrcVendor:"NeteaseMusic",CacheSize:50},k={Settings:T},$={GoogleCloud:{Version:"v2",Mode:"Key",Auth:""},Microsoft:{Version:"Azure",Mode:"Token",Region:"",Auth:""},DeepL:{Version:"Free",Auth:""},DeepLX:{Endpoint:"",Auth:""},URL:"",NeteaseMusic:{PhoneNumber:"",Password:""}},v={Settings:$},w=Database={Default:Object.freeze({__proto__:null,Configs:o,Settings:l,default:g}),Universal:Object.freeze({__proto__:null,Configs:r,Settings:i,default:u}),YouTube:Object.freeze({__proto__:null,Configs:m,Settings:c,default:d}),Netflix:Object.freeze({__proto__:null,Configs:p,Settings:h,default:f}),Spotify:Object.freeze({__proto__:null,Settings:y,default:x}),Composite:Object.freeze({__proto__:null,Settings:b,default:C}),Translate:Object.freeze({__proto__:null,Settings:N,default:S}),External:Object.freeze({__proto__:null,Settings:T,default:k}),API:Object.freeze({__proto__:null,Settings:$,default:v})};function E(t,s,n){console.log("‚òëÔ∏è Set Environment Variables","");let{Settings:l,Caches:o,Configs:g}=function(t,s,n){let l=a.getItem(t,n),o={};if("undefined"!=typeof $argument&&Boolean($argument)){let a=Object.fromEntries($argument.split("&").map((e=>e.split("=").map((e=>e.replace(/\"/g,""))))));for(let t in a)e.set(o,t,a[t])}const g={Settings:n?.Default?.Settings||{},Configs:n?.Default?.Configs||{},Caches:{}};Array.isArray(s)||(s=[s]);for(let e of s)g.Settings={...g.Settings,...n?.[e]?.Settings,...o,...l?.[e]?.Settings},g.Configs={...g.Configs,...n?.[e]?.Configs},l?.[e]?.Caches&&"string"==typeof l?.[e]?.Caches&&(l[e].Caches=JSON.parse(l?.[e]?.Caches)),g.Caches={...g.Caches,...l?.[e]?.Caches};return function e(a,t){for(var s in a){var n=a[s];a[s]="object"==typeof n&&null!==n?e(n,t):t(s,n)}return a}(g.Settings,((e,a)=>("true"===a||"false"===a?a=JSON.parse(a):"string"==typeof a&&(a=a.includes(",")?a.split(",").map((e=>i(e))):i(a)),a))),g;function i(e){return e&&!isNaN(e)&&(e=parseInt(e,10)),e}}(t,s,n);return Array.isArray(l?.Types)||(l.Types=l.Types?[l.Types]:[]),console.log(`‚úÖ Set Environment Variables, Settings: ${typeof l}, SettingsÂÜÖÂÆπ: ${JSON.stringify(l)}`,""),("object"!=typeof o?.Playlists||Array.isArray(o?.Playlists))&&(o.Playlists={}),o.Playlists.Master=new Map(JSON.parse(o?.Playlists?.Master||"[]")),o.Playlists.Subtitle=new Map(JSON.parse(o?.Playlists?.Subtitle||"[]")),"object"!=typeof o?.Subtitles&&(o.Subtitles=new Map(JSON.parse(o?.Subtitles||"[]"))),("object"!=typeof o?.Metadatas||Array.isArray(o?.Metadatas))&&(o.Metadatas={}),"object"!=typeof o?.Metadatas?.Tracks&&(o.Metadatas.Tracks=new Map(JSON.parse(o?.Metadatas?.Tracks||"[]"))),{Settings:l,Caches:o,Configs:g}}class P{constructor(e={}){this.Name="Composite",this.Version="1.0.1",this.Offset=0,this.Tolerance=0,this.Position="Forward",Object.assign(this,e),console.log(`\nüüß ${this.Name} v${this.Version}\n`)}JSON(e={},a={},t="captions",s=this.Offset,n=this.Tolerance,l=this.Position){console.log(`‚òëÔ∏è Composite JSON Subtitles\nOffset:${s}, Tolerance:${n}, Position:${l}`,"");let o=e,g=0,i=0,r=0;const u=e?.events?.length,c=a?.events?.length;for("asr"===t&&(console.log("‚òëÔ∏è DualSubÊòØËá™Âä®ÁîüÊàêÂ≠óÂπï",""),g=1,i=1,r=1,e.events=e.events.map((e=>(e?.segs&&Array.isArray(e?.segs)&&(e.segs=[{utf8:e.segs.map((e=>e.utf8)).join("")}]),delete e.wWinId,e))),a.events=a.events.map((e=>(e?.segs&&Array.isArray(e?.segs)&&(e.segs=[{utf8:e.segs.map((e=>e.utf8)).join("")}]),delete e.wWinId,e))));i<u&&r<c;){const t=e.events[i].tStartMs,s=a.events[r].tStartMs,u=e.events[i+1]?.tStartMs??t,c=a.events[r+1]?.tStartMs??s;if(Math.abs(t-s)<=n){g=i;const t=e.events[i]?.segs?.[0].utf8??"",s=a.events[r]?.segs?.[0].utf8??"";o.events[g].segs=[{utf8:("Reverse"===l?`${s}\n${t}`:`${t}\n${s}`).trim()}]}Math.abs(u-c)<=n?(i++,r++):s>t?i++:(t>s||i++,r++)}return console.log("‚úÖ Composite JSON Subtitles",""),o}timedText(e={},a={},t="captions",s=this.Offset,n=this.Tolerance,l=this.Position){console.log(`‚òëÔ∏è Composite timedText Subtitles\nOffset:${s}, Tolerance:${n}, Position:${l}`,"");let o=e,g=0,i=0,r=0;const u=e?.timedtext?.body?.p?.length,c=a?.timedtext?.body?.p?.length;for("asr"===t&&(console.log("‚òëÔ∏è DualSubÊòØËá™Âä®ÁîüÊàêÂ≠óÂπï",""),o.timedtext.head.wp[1]["@rc"]="1",e.timedtext.body.p=e.timedtext.body.p.map((e=>(e?.s&&(Array.isArray(e?.s)?e["#"]=e?.s.map((e=>e["#"])).join(""):e["#"]=e.s?.["#"]??"",delete e.s),e))),a.timedtext.body.p=a.timedtext.body.p.map((e=>(e?.s&&(Array.isArray(e?.s)?e["#"]=e?.s.map((e=>e["#"])).join(""):e["#"]=e.s?.["#"]??"",delete e.s),e))));i<u&&r<c;){const t=parseInt(e.timedtext.body.p[i]["@t"],10),s=parseInt(a.timedtext.body.p[r]["@t"],10),u=parseInt(e.timedtext.body.p[i+1]?.["@t"]??t,10),c=parseInt(a.timedtext.body.p[r+1]?.["@t"]??s,10);if(Math.abs(t-s)<=n){g=i;const t=e.timedtext.body.p[i]?.["#"]??"",s=a.timedtext.body.p[r]?.["#"]??"";o.timedtext.body.p[g]["#"]=("Reverse"===l?`${s}&#x000A;${t}`:`${t}&#x000A;${s}`).trim()}Math.abs(u-c)<=n?(i++,r++):s>t?i++:(t>s||i++,r++)}return console.log("‚úÖ Composite timedText Subtitles",""),o}webVTT(e={},a={},t=this.Offset,s=this.Tolerance,n=this.Position){console.log(`‚òëÔ∏è Composite webVTT Subtitles\nOffset:${t}, Tolerance:${s}, Position:${n}`,"");let l=e,o=0,g=0,i=0;const r=e?.body?.length,u=a?.body?.length;for(;g<r&&i<u;){const t=e.body[g].timeStamp,r=a.body[i].timeStamp,u=e.body[g+1]?.timeStamp??t,c=a.body[i+1]?.timeStamp??r,m=e.body[g]?.text??"",d=a.body[i]?.text??"";Math.abs(t-r)<=s&&(o=g,l.body[o].text=("Reverse"===n?`${d}\n${m}`:`${m}\n${d}`).trim()),Math.abs(u-c)<=s?(g++,i++):r>t?g++:(t>r||g++,i++)}return console.log("‚úÖ Composite webVTT Subtitles",""),l}spotifyLyric(e=[],a=[],t=this.Offset,s=this.Tolerance,n=this.Position){console.log(`‚òëÔ∏è Composite Spotify Lyrics\nOffset:${t}, Tolerance:${s}, Position:${n}`,"");let l=e,o=0,g=0,i=0;const r=e?.length,u=a?.length;for(;g<r&&i<u;){const r=e[g].startTimeMs,u=a[i].startTimeMs+t,c=e[g+1]?.startTimeMs??r,m=a[i+1]?.startTimeMs+this.Offset??u,d=e[g]?.words??"",h=a[i]?.words??"";Math.abs(r-u)<=s&&(o=g,l[o].words=("Reverse"===n?`${h}\n${d}`:`${d}\n${h}`).trim(),l[o].owords=d.trim(),l[o].twords=h.trim()),Math.abs(c-m)<=s?(g++,i++):u>r?g++:(r>u||g++,i++)}return console.log("‚úÖ Composite Spotify Lyrics",""),l}}const A=new t("üçøÔ∏è DualSubs: üé¶ Universal v1.0.0(1003) Composite.Subtitles.response"),O=new class{constructor(e,a=void 0){return console.log("\nüüß URL v2.1.0\n"),e=this.#i(e,a),this}#i(e,a=void 0){const t=/(?:(?<protocol>\w+:)\/\/(?:(?<username>[^\s:"]+)(?::(?<password>[^\s:"]+))?@)?(?<host>[^\s@/]+))?(?<pathname>\/?[^\s@?]+)?(?<search>\?[^\s?]+)?/,s=/(?<hostname>.+):(?<port>\d+)$/;if(e=e.match(t)?.groups||{},a&&(!(a=a?.match(t)?.groups||{}).protocol||!a.hostname))throw new Error(`üö® ${name}, ${a} is not a valid URL`);if((e.protocol||a?.protocol)&&(this.protocol=e.protocol||a.protocol),(e.username||a?.username)&&(this.username=e.username||a.username),(e.password||a?.password)&&(this.password=e.password||a.password),(e.host||a?.host)&&(this.host=e.host||a.host,Object.freeze(this.host),this.hostname=this.host.match(s)?.groups.hostname??this.host,this.port=this.host.match(s)?.groups.port??""),e.pathname||a?.pathname){if(this.pathname=e.pathname||a?.pathname,this.pathname.startsWith("/")||(this.pathname="/"+this.pathname),this.paths=this.pathname.split("/").filter(Boolean),Object.freeze(this.paths),this.paths){const e=this.paths[this.paths.length-1];if(e?.includes(".")){const a=e.split(".");this.format=a[a.length-1],Object.freeze(this.format)}}}else this.pathname="";if((e.search||a?.search)&&(this.search=e.search||a.search,Object.freeze(this.search),this.search)){const e=this.search.slice(1).split("&").map((e=>e.split("=")));this.searchParams=new Map(e)}return this.harf=this.toString(),Object.freeze(this.harf),this}toString(){let e="";return this.protocol&&(e+=this.protocol+"//"),this.username&&(e+=this.username+(this.password?":"+this.password:"")+"@"),this.hostname&&(e+=this.hostname),this.port&&(e+=":"+this.port),this.pathname&&(e+=this.pathname),this.searchParams&&(e+="?"+Array.from(this.searchParams).map((e=>e.join("="))).join("&")),e}toJSON(){return JSON.stringify({...this})}}($request.url);A.log(`‚ö† url: ${O.toJSON()}`,"");const L=$request.method,j=O.hostname,H=O.pathname,U=O.pathname.split("/").filter(Boolean);A.log(`‚ö† METHOD: ${L}, HOST: ${j}, PATH: ${H}`,"");let R=($response.headers?.["Content-Type"]??$response.headers?.["content-type"])?.split(";")?.[0];"application/octet-stream"!==R&&"text/plain"!==R||(R=function(e=new URL,a,t=void 0){switch(console.log(`‚òëÔ∏è detectFormat, format: ${e.format||e.searchParams.get("fmt")||e.searchParams.get("format")}`,""),e.format||e.searchParams.get("fmt")||e.searchParams.get("format")){case"txt":t="text/plain";break;case"xml":case"srv3":case"ttml":case"ttml2":case"imsc":t="text/xml";break;case"vtt":case"webvtt":t="text/vtt";break;case"json":case"json3":t="application/json";break;case"m3u":case"m3u8":t="application/x-mpegurl";break;case"plist":t="application/plist";break;case void 0:const e=a?.substring?.(0,6).trim?.();switch(e){case"<?xml":t="text/xml";break;case"WEBVTT":t="text/vtt";break;default:switch(e?.substring?.(0,1)){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t="text/vtt";break;case"{":t="application/json"}break;case void 0:t=void 0}}return console.log(`‚úÖ detectFormat, format: ${t}`,""),t}(O,$response?.body,R)),A.log(`‚ö† FORMAT: ${R}`,""),(async()=>{const e=function(e){console.log("‚òëÔ∏è Detect Platform","");let a=/\.(netflix\.com|nflxvideo\.net)/i.test(e)?"Netflix":/(\.youtube|youtubei\.googleapis)\.com/i.test(e)?"YouTube":/\.spotify(cdn)?\.com/i.test(e)?"Spotify":/\.apple\.com/i.test(e)?"Apple":/\.(dssott|starott)\.com/i.test(e)?"Disney+":/primevideo\.com|(\.(pv-cdn|aiv-cdn|akamaihd|cloudfront)\.net)|s3\.amazonaws\.com\/aiv-prod-timedtext\//i.test(e)?"PrimeVideo":/prd\.media\.h264\.io/i.test(e)?"Max":/\.(api\.hbo|hbomaxcdn)\.com/i.test(e)?"HBOMax":/\.hulu(stream|im)?\.com/i.test(e)?"Hulu":/\.(pplus\.paramount\.tech|cbs(aavideo|cbsivideo)?\.com)/i.test(e)?"Paramount+":/\.uplynk\.com/i.test(e)?"Discovery+":/dplus-ph-/i.test(e)?"Discovery+Ph":/\.peacocktv\.com/i.test(e)?"PeacockTV":/\.fubo\.tv/i.test(e)?"FuboTV":/\.viki\.io/i.test(e)?"Viki":/epix(hls\.akamaized\.net|\.services\.io)/i.test(e)?"MGM+":/\.nebula\.app/i.test(e)?"Nebula":/\.pluto(\.tv|tv\.net)/i.test(e)?"PlutoTV":/\.mubicdn\.net/i.test(e)?"MUBI":"Universal";return console.log(`‚úÖ Detect Platform, Platform: ${a}`,""),a}($request.url);A.log(`‚ö† PLATFORM: ${e}`,"");const{Settings:a,Caches:t,Configs:l}=E("DualSubs",[["YouTube","Netflix","BiliBili","Spotify"].includes(e)?e:"Universal","Composite","API"],w);switch(A.log(`‚ö† Settings.Switch: ${a?.Switch}`,""),a.Switch){case!0:default:const l=O.searchParams?.get("subtype")??a.Type,o=[O.searchParams?.get("lang")?.toUpperCase?.()??a.Languages[0],(O.searchParams?.get("tlang")??t?.tlang)?.toUpperCase?.()??a.Languages[1]];A.log(`‚ö† Type: ${l}, Languages: ${o}`,"");let g=[];switch(l){case"Official":switch(A.log("‚ö† ÂÆòÊñπÂ≠óÂπï",""),e){default:const{subtitlesPlaylistURL:s}=function(e,a,t){A.log("‚òëÔ∏è getSubtitlesCache","");let s="",n=[],l=0;return a?.forEach(((a,t)=>{if(Array.isArray(a)){let o=a;o?.some(((a,t)=>!!e.includes(a||null)&&(l=t,A.log("üöß getSubtitlesCache",`subtitlesIndex: ${l}`,""),!0)))&&(s=t,n=a)}})),A.log(`‚úÖ getSubtitlesCache, subtitlesPlaylistURL: ${s}`,""),{subtitlesPlaylistURL:s,subtitles:n,subtitlesIndex:l}}($request.url,t.Playlists.Subtitle),{masterPlaylistURL:n,subtitlesPlaylistIndex:l}=function(e,a,t){A.log("‚òëÔ∏è getPlaylistCache","");let s="",n={},l=0;return a?.forEach(((a,o)=>{t?.forEach((t=>{if(Array.isArray(a?.[t])){let g=a?.[t];g?.some(((a,t)=>!!e.includes(a?.URI||a?.OPTION?.URI||null)&&(l=t,A.log("üöß getPlaylistCache",`subtitlesPlaylistIndex: ${l}`,""),!0)))&&(s=o,n=a)}}))})),A.log("‚úÖ getPlaylistCache",`masterPlaylistURL: ${JSON.stringify(s)}`,""),{masterPlaylistURL:s,subtitlesPlaylist:n,subtitlesPlaylistIndex:l}}(s,t.Playlists.Master,o),{subtitlesURIArray0:i,subtitlesURIArray1:r}=function(e,a,t,s,n){A.log("‚òëÔ∏è getSubtitlesArray","");const l=t?.get(e)||{};let o=l?.[n[0]]?.[a]?.URL||l?.[n[0]]?.[0]?.URL,g=l?.[n[1]]?.[a]?.URL||l?.[n[1]]?.[0]?.URL;A.log("üöß getSubtitlesArray",`subtitlesPlaylistURL0: ${o}, subtitlesPlaylistURL1: ${g}`,"");let i=s.get(o)||[],r=s.get(g)||[];return A.log("‚úÖ getSubtitlesArray",""),{subtitlesURIArray0:i,subtitlesURIArray1:r}}(n,l,t.Playlists.Master,t.Playlists.Subtitle,o);if(r.length){A.log(`üöß subtitlesURIArray1.length: ${r.length}`,"");let a=U?.[U?.length-1]??function(e,a){A.log("‚òëÔ∏è Get Subtitles FileName",`url: ${e}`,"");let t;switch(a){case"Apple":t=request.url.match(/.+_(subtitles(_V\d)?-\d+\.webvtt)\?(.*)subtype=/)[1];break;case"Disney+":t=request.url.match(/([^\/]+\.vtt)\?(.*)subtype=/)[1];break;case"Hulu":t=request.url.match(/.+_(SEGMENT\d+_.+\.vtt)\?(.*)subtype=/)[1];break;default:t=null}return A.log("‚úÖ Get Subtitles FileName",`fileName: ${t}`,""),t}($request.url,e);A.log(`üöß fileName: ${a}`,""),g=function(e,a,t=[],s=[]){console.log(`‚òëÔ∏è Construct Subtitles Queue, fileName: ${a}`,"");let n=[];console.log(`üöß Construct Subtitles Queue, VTTs1.length: ${t.length}, VTTs2.length: ${s.length}`,"");const l=t.findIndex((e=>e?.includes(a)));switch(console.log(`üöß Construct Subtitles Queue, Index1: ${l}`,""),s.length){case 0:console.log("‚ö† Construct Subtitles Queue, ÈïøÂ∫¶‰∏∫ 0","");break;case 1:{console.log("‚ö† Construct Subtitles Queue, ÈïøÂ∫¶‰∏∫ 1","");let a={url:s[0],headers:e.headers};n.push(a);break}case t.length:{console.log("‚ö† Construct Subtitles Queue, ÈïøÂ∫¶Áõ∏Á≠â","");let a={url:s[l],headers:e.headers};n.push(a);break}default:{console.log("‚ö† Construct Subtitles Queue, ÈïøÂ∫¶‰∏çÁ≠âÔºåÈúÄË¶ÅËÆ°ÁÆó","");const a=(l+1)/t.length;console.log(`üöß Construct Subtitles Queue, Position1: ${a}, Index2: ${l}/${t.length}`,"");const o=Math.round(a*s.length-1);console.log(`üöß Construct Subtitles Queue, Position2: ${a}, Index2: ${o}/${s.length}`,"");const g=Math.abs(s.length-t.length),i=Math.min(l,o),r=Math.max(l,o);console.log(`üöß Construct Subtitles Queue, diffLength: ${g}, BeginIndex: ${i}, EndIndex: ${r}`,"");const u=s.slice(Math.max(0,i-g),Math.max(r,r+g)+1);console.log(`üöß Construct Subtitles Queue, nearlyVTTs: ${JSON.stringify(u)}`,""),u.forEach((a=>{let t={url:a,headers:e.headers};n.push(t)}));break}}return console.log("‚úÖ Construct Subtitles Queue",""),n}($request,a,i,r)}break;case"YouTube":if(A.log("‚ö† YouTube",""),void 0===O.searchParams.get("tlang"))A.log("‚ö† Êú™ÈÄâÊã©ÁøªËØëËØ≠Ë®ÄÔºåË∑≥Ëøá","");else if(A.log("‚ö† Â∑≤ÈÄâÊã©ÁøªËØëËØ≠Ë®Ä",""),a.Tolerance=100,a.Position="Reverse"===a.Position?"Forward":"Reverse",!0===a.ShowOnly)A.log("‚ö† ‰ªÖÊòæÁ§∫ÁøªËØëÂêéÂ≠óÂπïÔºåË∑≥Ëøá","");else{A.log("‚ö† ÁîüÊàêÂèåËØ≠Â≠óÂπï",""),O.searchParams.set("lang",t.Playlists.Subtitle.get(O.searchParams.get("v"))||O.searchParams.get("lang")),O.searchParams.delete("tlang");let e={url:O.toString(),headers:$request.headers};g.push(e)}break;case"Netflix":A.log("‚ö† Netflix","");break;case"Bilibili":A.log("‚ö† Bilibili","")}break;case"Translate":default:A.log("‚ö† ÁøªËØëÂ≠óÂπï","");break;case"External":if(A.log("‚ö† Â§ñÊåÇÂ≠óÂπï",""),"URL"===a.SubVendor){let e={url:a.URL,headers:{Accept:"*/*","User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1 Mobile/15E148 Safari/604.1"}};g.push(e)}}switch(R){case void 0:case"application/x-www-form-urlencoded":case"text/plain":default:case"application/x-mpegURL":case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"audio/mpegurl":break;case"text/xml":case"text/html":case"text/plist":case"application/xml":case"application/plist":case"application/x-plist":body=s.parse($response.body),await Promise.all(g.map((async e=>{let t=await A.fetch(e).then((e=>s.parse(e.body)));body=new P(a).timedText(body,t,O.searchParams.get("kind"))}))),$response.body=s.stringify(body);break;case"text/vtt":case"application/vtt":body=n.parse($response.body),await Promise.all(g.map((async e=>{let t=await A.fetch(e).then((e=>n.parse(e.body)));body=new P(a).webVTT(body,t)}))),$response.body=n.stringify(body);break;case"text/json":case"application/json":body=JSON.parse($response.body??"{}"),await Promise.all(g.map((async e=>{let t=await A.fetch(e).then((e=>JSON.parse(e.body)));body=new P(a).JSON(body,t,O.searchParams.get("kind"))}))),$response.body=JSON.stringify(body);case"application/protobuf":case"application/x-protobuf":case"application/vnd.google.protobuf":case"application/grpc":case"application/grpc+proto":case"application/octet-stream":}case!1:}})().catch((e=>A.logErr(e))).finally((()=>A.done($response)));
